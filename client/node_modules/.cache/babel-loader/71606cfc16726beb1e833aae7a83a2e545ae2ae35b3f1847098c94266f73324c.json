{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./mainPage.css';import'bootstrap/dist/css/bootstrap.min.css';import{useNavigate,Link}from'react-router-dom';import{getPopularTags}from'../utility';import{jsx as _jsx}from\"react/jsx-runtime\";const CloudTags=()=>{const[tags,setTags]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const quantity=20;useEffect(()=>{const fetchTags=async()=>{try{console.log('step 1');const res=await getPopularTags(quantity);console.log('fetched tags:',res.data);// Лог данных после их получения\nsetTags(res.data||[]);// Защита от undefined\n}catch(err){console.error('Error fetching tags:',err);// Лог ошибки\nsetError(err);}finally{setLoading(false);}};fetchTags();console.log('cloud tags: ',tags);},[]);const getFontSize=count=>{if(count>4)return'2rem';if(count>2)return'1.5rem';return'1rem';};return/*#__PURE__*/_jsx(\"div\",{className:\"tag-cloud\",children:tags&&tags.length>0&&tags/*.filter(tag => tag.count > 1)*///я конечно, перестарался\n.map(tag=>/*#__PURE__*/_jsx(\"span\",{style:{fontSize:getFontSize(tag.count),margin:'0.5rem',display:'inline-block'},className:\"tag\",children:tag.name},tag.id))});};export default CloudTags;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","getPopularTags","jsx","_jsx","CloudTags","tags","setTags","loading","setLoading","error","setError","quantity","fetchTags","console","log","res","data","err","getFontSize","count","className","children","length","map","tag","style","fontSize","margin","display","name","id"],"sources":["E:/itransition_course/course_project/client/src/components/main_content/CloudTags.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './mainPage.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { getPopularTags } from '../utility';\r\n\r\nconst CloudTags = () => {\r\n  const [tags, setTags] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const quantity = 20;\r\n\r\n  useEffect(() => {\r\n    const fetchTags = async () => {\r\n      try {\r\n        console.log('step 1');\r\n        const res = await getPopularTags(quantity);\r\n        console.log('fetched tags:', res.data);  // Лог данных после их получения\r\n        setTags(res.data || []);  // Защита от undefined\r\n      } catch (err) {\r\n        console.error('Error fetching tags:', err); // Лог ошибки\r\n        setError(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTags();\r\n    console.log('cloud tags: ',tags);\r\n  }, []);\r\n\r\n\r\n  const getFontSize = (count) => {\r\n    if (count > 4) return '2rem';\r\n    if (count > 2) return '1.5rem';\r\n    return '1rem';\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"tag-cloud\">\r\n      {tags && tags.length > 0 && tags\r\n        /*.filter(tag => tag.count > 1)*/  //я конечно, перестарался\r\n        .map((tag) => (\r\n        <span\r\n          key={tag.id}\r\n          style={{ fontSize: getFontSize(tag.count), margin: '0.5rem', display: 'inline-block' }}\r\n          className=\"tag\"\r\n        >\r\n          {tag.name}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CloudTags;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAO,sCAAsC,CAC7C,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,OAASC,cAAc,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAc,QAAQ,CAAG,EAAE,CAEnBb,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,cAAc,CAACU,QAAQ,CAAC,CAC1CE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEC,GAAG,CAACC,IAAI,CAAC,CAAG;AACzCV,OAAO,CAACS,GAAG,CAACC,IAAI,EAAI,EAAE,CAAC,CAAG;AAC5B,CAAE,MAAOC,GAAG,CAAE,CACZJ,OAAO,CAACJ,KAAK,CAAC,sBAAsB,CAAEQ,GAAG,CAAC,CAAE;AAC5CP,QAAQ,CAACO,GAAG,CAAC,CACf,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDI,SAAS,CAAC,CAAC,CACXC,OAAO,CAACC,GAAG,CAAC,cAAc,CAACT,IAAI,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAa,WAAW,CAAIC,KAAK,EAAK,CAC7B,GAAIA,KAAK,CAAG,CAAC,CAAE,MAAO,MAAM,CAC5B,GAAIA,KAAK,CAAG,CAAC,CAAE,MAAO,QAAQ,CAC9B,MAAO,MAAM,CACf,CAAC,CAID,mBACEhB,IAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBhB,IAAI,EAAIA,IAAI,CAACiB,MAAM,CAAG,CAAC,EAAIjB,IAC1B,iCAAmC;AAAA,CAClCkB,GAAG,CAAEC,GAAG,eACTrB,IAAA,SAEEsB,KAAK,CAAE,CAAEC,QAAQ,CAAER,WAAW,CAACM,GAAG,CAACL,KAAK,CAAC,CAAEQ,MAAM,CAAE,QAAQ,CAAEC,OAAO,CAAE,cAAe,CAAE,CACvFR,SAAS,CAAC,KAAK,CAAAC,QAAA,CAEdG,GAAG,CAACK,IAAI,EAJJL,GAAG,CAACM,EAKL,CACP,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}