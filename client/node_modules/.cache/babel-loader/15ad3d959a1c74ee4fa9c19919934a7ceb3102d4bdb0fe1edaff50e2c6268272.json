{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../index.css';import'bootstrap/dist/css/bootstrap.min.css';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import LogoutButton from'./LogoutButton';import{getUserName,getUserRole,getCollections,getLike,setComment,deleteCollection}from'./utility';import logo_light from'../images/logo_light.jpg';import'bootstrap-icons/font/bootstrap-icons.css';import{useParams}from'react-router-dom';//доступ к параметрам url\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;const CollectionPage=()=>{var _collection$category,_collection$user,_collection$user2,_collection$user3,_collection$comments,_collection$items;const{id}=useParams();//тут берется id нужной коллекции\nconst navigate=useNavigate();const[userName,setUserName]=useState('');const[userId,setUserId]=useState(null);const[userRole,setUserRole]=useState('');const[isLiked,setIsLiked]=useState(false);const[likesCount,setLikesCount]=useState(0);const[collection,setCollection]=useState(null);const[comments,setComments]=useState([]);const[newComment,setNewComment]=useState('');useEffect(()=>{if(collection){setComments(collection.comments);}getUserName(setUserName,setUserId);getUserRole(setUserRole);getCollections(setCollection,'/api/collectionEditView/viewCollection',id);},[navigate,isLiked,likesCount,id]);/*, collection*/const handleLogin=()=>{navigate('/login');};const handleHomePage=()=>{navigate('/collections');};const handleProfile=()=>{navigate(`/profile/${userId}`);};const handleSomeoneProfile=ownerid=>{console.log('id',ownerid);navigate(`/profile/${ownerid}`);};const handleEditCollection=()=>{navigate(`/collections/edit/${id}`);};const handleDeleteCollection=async()=>{//const alert = window.confirm(' you want to delete this collection?');\ndeleteCollection(id);navigate(`/profile/${userId}`);};const handleSubmitComment=async()=>{const res=await setComment(id,newComment);if(res&&res.data){setComments(prevComments=>[...prevComments,res.data]);setNewComment('');getCollections(setCollection,'/api/collectionEditView/viewCollection',id);}};const toggleLike=async id=>{setIsLiked(prev=>!prev);setLikesCount(prev=>isLiked?prev-1:prev+1);try{const res=await getLike(id,setIsLiked);console.error('step 1',res,isLiked);if(res.status!=200){setIsLiked(prev=>!prev);setLikesCount(prev=>isLiked?prev+1:prev-1);}}catch(err){console.error('error like/dislike 57',err);setIsLiked(prev=>!prev);setLikesCount(prev=>isLiked?prev+1:prev-1);}};if(!collection){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-start align-items-start\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wight me-2\",onClick:handleHomePage,children:/*#__PURE__*/_jsx(\"img\",{src:logo_light,alt:\"Unblock\",style:{width:'350px'}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end align-items-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:userName?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-3\",onClick:handleProfile,children:userName}),/*#__PURE__*/_jsx(LogoutButton,{})]}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",onClick:handleLogin,children:\"Log In\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 collectionViewBlock\",children:[\"                         \",/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-1\",children:collection.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"categoryVC mt-2 mb-0 ms-4\",children:[\"/ category:\",/*#__PURE__*/_jsxs(Link,{to:()=>handleSomeoneProfile(collection.user.id),className:\"linkToProfileVC text-muted text-black\",style:{textDecoration:'none'},children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:(_collection$category=collection.category)===null||_collection$category===void 0?void 0:_collection$category.name})]}),\" / owner:\"]}),/*#__PURE__*/_jsx(Link,{to:`/profile/${(_collection$user=collection.user)===null||_collection$user===void 0?void 0:_collection$user.id}`,className:\"linkToProfileVC text-black ms-4\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"h2\",{children:(_collection$user2=collection.user)===null||_collection$user2===void 0?void 0:_collection$user2.name})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start me-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",onClick:handleEditCollection,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDeleteCollection,children:\"Delete\"})]}),userId===((_collection$user3=collection.user)===null||_collection$user3===void 0?void 0:_collection$user3.id)||userRole==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start me-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",onClick:handleEditCollection,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDeleteCollection,children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"me-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img_containerCP mb-0\",style:{maxWidth:'800px',maxHeight:'800px',overflow:'hidden'},children:collection.image_url&&/*#__PURE__*/_jsx(\"img\",{src:collection.image_url,alt:collection.title,style:{width:'100%',height:'100%',objectFit:'cover'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn justify-content-center align-items-center\",onClick:()=>toggleLike(collection.id),style:{border:'none'},children:/*#__PURE__*/_jsx(\"i\",{className:`bi ${collection.isLiked?'bi-heart-fill text-danger':'bi-heart text-dark'} fs-2`})}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 likeCounter\",children:collection.likesCount}),/*#__PURE__*/_jsxs(\"span\",{className:\"itemCountVC text-muted ms-5 itemsNum\",children:[\"items in collection: \",collection.itemCount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:collection.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Comments:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",placeholder:\"Add a comment\",value:newComment,onChange:e=>setNewComment(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2\",onClick:handleSubmitComment,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group mt-4\",children:(_collection$comments=collection.comments)===null||_collection$comments===void 0?void 0:_collection$comments.map(comment=>/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(Link,{to:`/profile/${comment.userId}`,className:\"linkToProfileVC text-muted text-black\",style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"strong\",{children:comment.userName}),\":\"]}),\"\\xA0\",comment.text]})},comment.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"elementsContainer d-flex flex-wrap flex-column\",style:{width:'300px'},children:(_collection$items=collection.items)===null||_collection$items===void 0?void 0:_collection$items.map(item=>{var _item$tags;return/*#__PURE__*/_jsx(\"div\",{className:\"card mt-0 mb-2\",style:{width:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mt-0\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"tags mt-2\",children:(_item$tags=item.tags)===null||_item$tags===void 0?void 0:_item$tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary me-2 mb-1\",children:/*#__PURE__*/_jsxs(Link,{to:`/profile/${userId}`,className:\"linkToProfileVC text-white\",style:{textDecoration:'none'},children:[\" \",tag.name]})},tag.id))})]})},item.id);})}),\" \"]})]}),\"      \"]});};export default CollectionPage;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","Link","LogoutButton","getUserName","getUserRole","getCollections","getLike","setComment","deleteCollection","logo_light","useParams","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","apiUrl","process","env","REACT_APP_API_URL","CollectionPage","_collection$category","_collection$user","_collection$user2","_collection$user3","_collection$comments","_collection$items","id","navigate","userName","setUserName","userId","setUserId","userRole","setUserRole","isLiked","setIsLiked","likesCount","setLikesCount","collection","setCollection","comments","setComments","newComment","setNewComment","handleLogin","handleHomePage","handleProfile","handleSomeoneProfile","ownerid","console","log","handleEditCollection","handleDeleteCollection","handleSubmitComment","res","data","prevComments","toggleLike","prev","error","status","err","children","className","onClick","src","alt","style","width","title","to","user","textDecoration","category","name","maxWidth","maxHeight","overflow","image_url","height","objectFit","border","itemCount","description","placeholder","value","onChange","e","target","map","comment","text","items","item","_item$tags","tags","tag"],"sources":["E:/itransition_course/course_project/client/src/components/CollectionPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../index.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport LogoutButton from './LogoutButton';\r\n\r\nimport { getUserName, getUserRole, getCollections, getLike, setComment, deleteCollection } from './utility';\r\n\r\nimport logo_light from '../images/logo_light.jpg'\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport { useParams } from 'react-router-dom'; //доступ к параметрам url\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst CollectionPage = () => {\r\n  const { id } = useParams(); //тут берется id нужной коллекции\r\n  const navigate = useNavigate();\r\n  \r\n  const [userName, setUserName] = useState('');\r\n  const [userId, setUserId] = useState(null);\r\n  const [userRole, setUserRole] = useState('');\r\n\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [likesCount, setLikesCount] = useState(0);\r\n  const [collection, setCollection] = useState(null);\r\n\r\n  const [comments, setComments] = useState([]);\r\n  const [newComment, setNewComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if(collection){\r\n      setComments(collection.comments);\r\n    }\r\n    getUserName(setUserName, setUserId);\r\n    getUserRole(setUserRole);\r\n    getCollections(setCollection, '/api/collectionEditView/viewCollection', id);\r\n  }, [navigate, isLiked, likesCount, id]); /*, collection*/\r\n\r\n  const handleLogin = () => {\r\n    navigate('/login');\r\n  };\r\n  const handleHomePage = () => {\r\n    navigate('/collections');\r\n  };\r\n  const handleProfile = () => {\r\n    navigate(`/profile/${userId}`);\r\n  };\r\n  const handleSomeoneProfile = (ownerid) => {\r\n    console.log('id', ownerid);\r\n    navigate(`/profile/${ownerid}`);\r\n  };\r\n  const handleEditCollection = () => {\r\n    navigate(`/collections/edit/${id}`);\r\n  };\r\n  const handleDeleteCollection = async () => {\r\n    //const alert = window.confirm(' you want to delete this collection?');\r\n    deleteCollection(id);\r\n    navigate(`/profile/${userId}`);\r\n  };\r\n  \r\n  const handleSubmitComment = async () => {\r\n    const res = await setComment(id, newComment); \r\n    if (res && res.data){\r\n      setComments(prevComments => [...prevComments, res.data]);\r\n\r\n      setNewComment('');\r\n      getCollections(setCollection, '/api/collectionEditView/viewCollection', id);\r\n    }\r\n  };\r\n  const toggleLike = async (id) => {\r\n    setIsLiked(prev => !prev);\r\n    setLikesCount(prev => isLiked ? prev - 1 : prev + 1);\r\n\r\n    try{\r\n      const res = await getLike(id, setIsLiked);\r\n      console.error('step 1', res, isLiked);\r\n      if(res.status != 200){\r\n        setIsLiked(prev => !prev);\r\n        setLikesCount(prev => isLiked ? prev + 1 : prev - 1);\r\n      }\r\n    }\r\n    catch(err){\r\n      console.error('error like/dislike 57', err);\r\n      setIsLiked(prev => !prev);\r\n      setLikesCount(prev => isLiked ? prev + 1 : prev - 1);\r\n    }\r\n  };\r\n\r\n  if (!collection) {\r\n    return <div>Loading...</div>; \r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"container-fluid\">\r\n\r\n      <div className=\"container mt-3 d-flex justify-content-between align-items-center\">\r\n\r\n        <div className=\"d-flex justify-content-start align-items-start\">\r\n            <button className=\"btn btn-wight me-2\" onClick={handleHomePage}>\r\n              <img src={logo_light} alt=\"Unblock\" style={{ width: '350px' }} />\r\n            </button>\r\n        </div>\r\n        <div className=\"d-flex justify-content-end align-items-start\"> \r\n          <div className=\"d-flex align-items-center\">\r\n            {userName ? (\r\n              <>\r\n                <button className=\"btn btn-primary me-3\" onClick={handleProfile}>{userName}</button>\r\n                <LogoutButton />\r\n              </>\r\n            ) : (\r\n              <button className=\"btn btn-primary me-2\" onClick={handleLogin}>Log In</button>\r\n            )}\r\n            \r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n\r\n\r\n      <div className=\"container mt-5 collectionViewBlock\">                         {/*start collection block*/}\r\n\r\n        <div className=\"d-flex justify-content-between align-items-start\">\r\n          <span className=\"d-flex justify-content-center\">\r\n            <h2 className=\"mb-1\">{collection.title}</h2>\r\n\r\n          <p className=\"categoryVC mt-2 mb-0 ms-4\">\r\n            / category:\r\n            <Link to={() => handleSomeoneProfile(collection.user.id)} className=\"linkToProfileVC text-muted text-black\" style={{ textDecoration: 'none' }}> {/*`/profile/${tag.id}`*/}\r\n              <b>{collection.category?.name}</b>\r\n            </Link> / owner:\r\n             \r\n          </p>\r\n\r\n          <Link to={`/profile/${collection.user?.id}`} className=\"linkToProfileVC text-black ms-4\" style={{ textDecoration: 'none' }}>\r\n            <h2>{collection.user?.name}</h2>\r\n          </Link>\r\n          </span>\r\n          \r\n          <div className=\"d-flex justify-content-start me-2\">\r\n              <button className=\"btn btn-primary me-2\" onClick={handleEditCollection}>\r\n                Edit\r\n              </button>\r\n              <button className=\"btn btn-danger\" onClick={handleDeleteCollection}>\r\n                Delete\r\n              </button>\r\n            </div>\r\n\r\n          {userId === collection.user?.id || userRole === 'admin' && (\r\n            <div className=\"d-flex justify-content-start me-2\">\r\n              <button className=\"btn btn-primary me-2\" onClick={handleEditCollection}>\r\n                Edit\r\n              </button>\r\n              <button className=\"btn btn-danger\" onClick={handleDeleteCollection}>\r\n                Delete\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"d-flex\">\r\n          <div className=\"me-4\">\r\n            <div className=\"img_containerCP mb-0\" style={{ maxWidth: '800px', maxHeight: '800px', overflow: 'hidden' }}>\r\n              {collection.image_url && (\r\n                <img\r\n                  src={collection.image_url}\r\n                  alt={collection.title}\r\n                  style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"d-flex align-items-center mt-2\">\r\n              <button\r\n                className=\"btn justify-content-center align-items-center\"\r\n                onClick={() => toggleLike(collection.id)}\r\n                style={{ border: 'none' }}\r\n              >\r\n                <i className={`bi ${collection.isLiked ? 'bi-heart-fill text-danger' : 'bi-heart text-dark'} fs-2`}></i>\r\n              </button>\r\n              <span className=\"ms-2 likeCounter\">{collection.likesCount}</span>\r\n              <span className=\"itemCountVC text-muted ms-5 itemsNum\">items in collection: {collection.itemCount}</span>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <h5>Description:</h5>\r\n              <p className=\"text-muted\">{collection.description}</p>\r\n            </div>\r\n\r\n            <div className=\"comments mt-4\">\r\n\r\n              <h5>Comments:</h5>\r\n\r\n              <div className=\"mt-3\">\r\n                <textarea className=\"form-control\" placeholder=\"Add a comment\"\r\n                    value={newComment} onChange={(e => setNewComment(e.target.value))}>\r\n                </textarea>\r\n                <button className=\"btn btn-primary mt-2\" onClick={handleSubmitComment}>Submit</button>\r\n              </div>\r\n\r\n              <ul className=\"list-group mt-4\">\r\n                {collection.comments?.map((comment) => (\r\n                  <li key={comment.id} className=\"list-group-item\">\r\n                    <p>\r\n                      <Link to={`/profile/${comment.userId}`} className=\"linkToProfileVC text-muted text-black\" style={{ textDecoration: 'none' }}>\r\n                        <strong>{comment.userName}</strong>: \r\n                      </Link>\r\n                      &nbsp;{comment.text}\r\n                    </p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              \r\n            \r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div className=\"elementsContainer d-flex flex-wrap flex-column\" style={{ width: '300px' }}>\r\n            {collection.items?.map((item) => (\r\n              \r\n              <div key={item.id} className=\"card mt-0 mb-2\" style={{ width: '100%' }}>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title mt-0\">{item.name}</h5>\r\n                  <div className=\"tags mt-2\">\r\n                    {item.tags?.map((tag) => (\r\n\r\n                      <span key={tag.id} className=\"badge bg-secondary me-2 mb-1\">\r\n                        <Link to={`/profile/${userId}`} className=\"linkToProfileVC text-white\" style={{ textDecoration: 'none' }}> {/*`/profile/${tag.id}`*/}\r\n                          {tag.name}\r\n                        </Link>\r\n                      </span>\r\n\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              \r\n              </div>\r\n\r\n            ))}\r\n          \r\n          </div> {/*className=\"elementsContainer d-flex flex-wrap flex-column\"*/}\r\n\r\n        </div>\r\n\r\n      </div>      {/*end collection block*/}\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}