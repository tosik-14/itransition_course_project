{"ast":null,"code":"import axios from 'axios';\nconst apiUrl = process.env.REACT_APP_API_URL;\nexport const getUserName = async setUserName => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    try {\n      const responce = await axios.get(`${apiUrl}/api/users/me`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setUserName(responce.data.name);\n    } catch (error) {\n      console.error('error fetch user name: ', error);\n    }\n  }\n};\nexport const getUserRole = async setUserRole => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    try {\n      const responce = await axios.get(`${apiUrl}/api/users/role`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setUserRole(responce.data.role);\n    } catch (error) {\n      console.error('error fetch user role: ', error);\n    }\n  }\n};\nexport const getCollections = async setCollections => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    try {\n      const responce = await axios.get(`${apiUrl}/api/collections`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setCollections(responce.data);\n    } catch (error) {\n      console.error('error fetch user role: ', error);\n    }\n  }\n};","map":{"version":3,"names":["axios","apiUrl","process","env","REACT_APP_API_URL","getUserName","setUserName","token","localStorage","getItem","responce","get","headers","Authorization","data","name","error","console","getUserRole","setUserRole","role","getCollections","setCollections"],"sources":["E:/itransition_course/course_project/client/src/components/utility.js"],"sourcesContent":["import axios from 'axios';\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const getUserName = async(setUserName) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tif(token){\r\n    try{\r\n      const responce = await axios.get(`${apiUrl}/api/users/me`, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\r\n      setUserName(responce.data.name);\r\n    }\r\n    catch (error){\r\n      console.error('error fetch user name: ', error);\r\n    }\r\n  }\r\n};\r\n\r\nexport const getUserRole = async(setUserRole) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tif(token){\r\n\t\ttry{\r\n      const responce = await axios.get(`${apiUrl}/api/users/role`, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\r\n      setUserRole(responce.data.role);\r\n    }\r\n    catch (error){\r\n      console.error('error fetch user role: ', error);\r\n    }\r\n\t}\r\n};\r\n\r\nexport const getCollections = async(setCollections) => {\r\n  const token = localStorage.getItem('token');\r\n  if(token){\r\n    try{\r\n      const responce = await axios.get(`${apiUrl}/api/collections`, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}`}});\r\n      setCollections(responce.data);\r\n    }\r\n    catch (error){\r\n      console.error('error fetch user role: ', error);\r\n    }\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE5C,OAAO,MAAMC,WAAW,GAAG,MAAMC,WAAW,IAAK;EAChD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAGF,KAAK,EAAC;IACN,IAAG;MACD,MAAMG,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGV,MAAM,eAAe,EAAE;QAAEW,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAAE;MAAC,CAAC,CAAC;MACnIH,WAAW,CAACI,QAAQ,CAACI,IAAI,CAACC,IAAI,CAAC;IACjC,CAAC,CACD,OAAOC,KAAK,EAAC;MACXC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;AACF,CAAC;AAED,OAAO,MAAME,WAAW,GAAG,MAAMC,WAAW,IAAK;EAChD,MAAMZ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAGF,KAAK,EAAC;IACR,IAAG;MACC,MAAMG,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGV,MAAM,iBAAiB,EAAE;QAAEW,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAAE;MAAC,CAAC,CAAC;MACrIU,WAAW,CAACT,QAAQ,CAACI,IAAI,CAACM,IAAI,CAAC;IACjC,CAAC,CACD,OAAOJ,KAAK,EAAC;MACXC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACH;AACD,CAAC;AAED,OAAO,MAAMK,cAAc,GAAG,MAAMC,cAAc,IAAK;EACrD,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAGF,KAAK,EAAC;IACP,IAAG;MACD,MAAMG,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGV,MAAM,kBAAkB,EAAE;QAAEW,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAAE;MAAC,CAAC,CAAC;MACtIa,cAAc,CAACZ,QAAQ,CAACI,IAAI,CAAC;IAC/B,CAAC,CACD,OAAOE,KAAK,EAAC;MACXC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}